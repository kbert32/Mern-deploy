{"version":3,"file":"static/js/747.4ad74da9.chunk.js","mappings":"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","sources":["shared/components/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","shared/components/UIElements/Card.js"],"sourcesContent":["import { useRef, useEffect } from 'react';\n\nimport './Map.css';\n\nexport default function Map(props) {\n\n    const mapRef = useRef();\n\n    const {center, zoom} = props;   //consts are created for useEffect dependencies so it does not re-render everytime the props\n                                    //object changes, but only when the 'center' or 'zoom' properties change\n    useEffect(() => {           //useEffect is used so that the map object creation and marker logic are not run\n                                //until the ref's link to the div has been established\n        const mapObj = new window.google.maps.Map(mapRef.current, {\n            center: center,\n            zoom: zoom\n        });\n    \n        new window.google.maps.Marker({position: center, map: mapObj});\n    }, [center, zoom]);\n\n    \n    return <div ref={mapRef} className={`map ${props.className}`} style={props.style}></div>\n}","import { useState, useContext } from 'react';\n\nimport Card from '../../shared/components/UIElements/Card';\nimport Button from '../../shared/components/FormElements/Button';\nimport Modal from '../../shared/components/UIElements/Modal';\nimport Map from '../../shared/components/UIElements/Map';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport { AuthContext } from '../../shared/context/auth-context';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport './PlaceItem.css';\n\nexport default function PlaceItem(props) {\n\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\n\n    const authCtx = useContext(AuthContext);\n\n    const [showConfirm, setShowConfirm] = useState(false);\n    const [showMap, setShowMap] = useState(false);\n\n    const openMapHandler = () => setShowMap(true);\n\n    const closeMapHandler = () => setShowMap(false);\n\n    const showDeleteWarningHandler = () => setShowConfirm(true);\n\n    const cancelDeleteHandler = () => setShowConfirm(false);\n\n    const confirmDeleteHandler = async () => {\n        setShowConfirm(false);\n        try {\n            await sendRequest(process.env.REACT_APP_BACKEND_URL + `/api/places/${props.id}`, \n                'DELETE', \n                null, \n                {\n                    Authorization: 'Bearer ' + authCtx.token\n                }\n            );\n            props.onDelete(props.id);\n        } catch (err) {};\n\n    };\n\n    return (\n        <>\n            <ErrorModal error={error} onClear={clearError} /> \n            <Modal \n                show={showMap} \n                onCancel={closeMapHandler} \n                header={props.address} \n                contentClass='place-item__modal-content' \n                footerClass='place-item__modal-actions' \n                footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\n            >\n                <div className='map-container'>\n                    <Map center={props.coordinates} zoom={16} />\n                </div>\n            </Modal>\n            <Modal \n                show={showConfirm}\n                onCancel={cancelDeleteHandler}\n                header='Are you sure?'\n                footerClass='place-item__modal-actions'\n                footer={\n                    <>\n                        <Button onClick={cancelDeleteHandler} inverse>CANCEL</Button>\n                        <Button onClick={confirmDeleteHandler} danger>DELETE</Button>\n                    </>\n                }\n            >\n                <p>\n                    Do you want to proceed and delete this place? Please note that it can't be undone thereafter.\n                </p>\n            </Modal>\n            <li className='place-item'>\n                <Card className='place-item__content'>\n                    {isLoading && <LoadingSpinner asOverlay />}\n                    <div className='place-item__image'>\n                        <img src={process.env.REACT_APP_BACKEND_URL + `/${props.image}`} alt={props.title} />\n                    </div>\n                    <div className='place-item__info'>\n                        <h2>{props.title}</h2>\n                        <h3>{props.address}</h3>\n                        <p>{props.description}</p>\n                    </div>\n                    <div className='place-item__actions'>\n                        <Button inverse onClick={openMapHandler}>VIEW ON MAP</Button>\n                        {authCtx.userId === props.creatorId && <Button to={`/places/${props.id}`}>EDIT</Button>}\n                        {authCtx.userId === props.creatorId && <Button onClick={showDeleteWarningHandler} danger>DELETE</Button>}\n                    </div>\n                </Card>\n            </li>\n        </>\n    );\n};","\nimport Card from '../../shared/components/UIElements/Card';\nimport PlaceItem from './PlaceItem';\nimport Button from \"../../shared/components/FormElements/Button\";\nimport './PlaceList.css';\n\nexport default function PlaceList(props) {\n    if (props.items.length === 0) {\n        return (\n            <div className='place-list center'>\n                <Card>\n                    <h2>No places found. Maybe create one?</h2>\n                    <Button to='/places/new'>Share Place</Button>\n                </Card>\n            </div>\n        );\n    }\n\n    return (\n        <ul className='place-list'>\n            {props.items.map(place => (\n                <PlaceItem \n                    key={place.id} \n                    id={place.id} \n                    image={place.image} \n                    title={place.title}\n                    description={place.description}\n                    address={place.address}\n                    creatorId={place.creator}\n                    coordinates={place.location}\n                    onDelete={props.deleteUpdate}\n                />\n            ))}\n        </ul>\n    );\n};","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport PlaceList from \"../components/PlaceList\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\n\nexport default function UserPlaces() {\n    const [loadedPlaces, setLoadedPlaces] = useState();\n    const {isLoading, error, sendRequest, clearErrorAndMove} = useHttpClient();\n\n    const userId = useParams().userId;\n\n    useEffect(() => {\n        async function fetchPlaces() {\n            try {\n                const responseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + `/api/places/user/${userId}`);\n                setLoadedPlaces(responseData.places);\n            } catch (err) {};\n        };\n        fetchPlaces();\n    }, [sendRequest, userId]);\n\n    function placeDeletedHandler(deletedId) {\n        setLoadedPlaces(prev => prev.filter(place => place.id !== deletedId));\n    };\n\n    function clearErrorHandler() {\n        clearErrorAndMove('/');\n    };\n\n    return (\n        <>\n            <ErrorModal error={error} onClear={clearErrorHandler} />\n            {isLoading && <div className='center'><LoadingSpinner asOverlay /></div> }\n            {!isLoading && loadedPlaces && <PlaceList items={loadedPlaces} deleteUpdate={placeDeletedHandler} />}\n        </>\n    );\n};\n\n\n\n//     const DUMMY_PLACES = [\n//         {\n//             id: 'p1',\n//             title: 'Eiffel Tower',\n//             description: 'The famous tower in Paris!',\n//             imageUrl: 'https://www.planetware.com/wpimages/2020/02/france-in-pictures-beautiful-places-to-photograph-eiffel-tower.jpg',\n//             address: 'Champ de Mars, 5 Av. Anatole France, 75007 Paris, France',\n//             location: {\n//                 lat: 48.8584,\n//                 lng: 2.2945\n//             },\n//             creator: 'u1' \n//         },\n//         {\n//             id: 'p2',\n//             title: 'Delicate Arch',\n//             description: \"Utah's Delicate Arch!\",\n//             imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Delicate_arch_sunset.jpg/1280px-Delicate_arch_sunset.jpg',\n//             address: 'Arches National Park, Moab, Utah, USA',\n//             location: {\n//                 // lat: 38.743600,\n//                 // lng: -109.499300\n//                 lat: 38.7436,\n//                 lng: -109.4993\n//             },\n//             creator: 'u2'\n//         }\n//     ];\n// ","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n"],"names":["Map","props","mapRef","useRef","center","zoom","useEffect","mapObj","window","google","maps","current","Marker","position","map","_jsx","ref","className","concat","style","PlaceItem","_useHttpClient","useHttpClient","isLoading","error","sendRequest","clearError","authCtx","useContext","AuthContext","_useState","useState","_useState2","_slicedToArray","showConfirm","setShowConfirm","_useState3","_useState4","showMap","setShowMap","closeMapHandler","cancelDeleteHandler","confirmDeleteHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","process","id","Authorization","token","onDelete","t0","stop","apply","arguments","_jsxs","_Fragment","children","ErrorModal","onClear","Modal","show","onCancel","header","address","contentClass","footerClass","footer","Button","onClick","coordinates","inverse","danger","Card","LoadingSpinner","asOverlay","src","image","alt","title","description","userId","creatorId","to","PlaceList","items","length","place","creator","location","deleteUpdate","UserPlaces","loadedPlaces","setLoadedPlaces","clearErrorAndMove","useParams","_fetchPlaces","responseData","sent","places","fetchPlaces","deletedId","filter"],"sourceRoot":""}